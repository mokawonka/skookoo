<h5 class="mb-3">Pending Follow Requests (<%= @pending_requesters.count %>)</h5>

<% if @pending_requesters.any? %>
  <% @pending_requesters.each do |requester| %>
    <div class="d-flex justify-content-between align-items-center py-3 border-bottom">
      
      <!-- Clickable area: Avatar + Name + Username -->
      <%= link_to user_path(requester), class: "d-flex align-items-center gap-3 text-decoration-none text-reset flex-grow-1" do %>
        <%= image_tag requester.avatar.attached? ? requester.avatar : "default-avatar.svg", 
                      size: "45x45", class: "rounded-circle" %>
        <div>
          <strong><%= requester.name %></strong><br>
          <small class="text-muted">@<%= requester.username %></small>
        </div>
      <% end %>

      <!-- Approve / Reject buttons -->
      <div class="d-flex gap-2">
        <%= link_to "Approve", approve_follow_request_user_path(@user, follower_id: requester.id), 
                    method: :post, remote: true, class: "btn btn-success btn-sm" %>

        <%= link_to "Reject", reject_follow_request_user_path(@user, follower_id: requester.id), 
                    method: :post, remote: true, class: "btn btn-danger btn-sm" %>
      </div>
    </div>
  <% end %>
<% else %>
  <p class="text-muted">No pending follow requests.</p>
<% end %>